generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Donor {
  id          String  @id @default(uuid())
  Food        Food[]  @relation("DonorFood")
  name       String
  email       String  @unique
  password    String
  phone   String
  address    String
  cnpj        String
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model CollectionPoints {
  id          String     @id @default(uuid())
  food        Food[]
  name        String
  address   String
  phone    String
  hoursOfOperetion DateTime
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

//--------------------------------------------------------------------------------//

model NotificationEngagement {
  id String @id @default(uuid())
  NotificationType NotificationType
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

enum NotificationType {
  sent
  received
}

model Food {
  id          String     @id @default(uuid())
  donorId     String
  donor       Donor   @relation("DonorFood", fields: [donorId], references: [id])
  collectionPointsId  String 
  collectionPoints    CollectionPoints @relation(fields: [collectionPointsId], references: [id])
  name       String
  validity    DateTime
  quantity Int
  category  String
  description   String
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model ImpactReport {
  id          String      @id @default(uuid())
  donorId Int
  title       String
  description String
  savedFoodKg Float
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}
